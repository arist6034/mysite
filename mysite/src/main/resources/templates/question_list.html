<html layout:decorate="~{layout}">
	
	<div class="container" layout:fragment="content">
		<h1>질문 목록</h1>
		<div class="row">
			<div class="col">
				<div class="p-5 text-center bg-body-tertiary rounded-3">
					<h1>질문 목록</h1>
				</div>
				<a th:href="@{/question/create}" class="btn btn-primary">질문 등록하기</a>
				<table class="table">
				  <thead>
					<tr>
						<th>번호</th>
						<th>제목</th>
						<th>작성날짜</th>
					</tr>
				  </thead>
				  <tbody>
					<tr th:each="question, loop : ${questionList}">
						<td th:text="${loop.count}"></td>
						<td>
							<a th:href="@{|/question/detail/${question.id}|}" th:text="${question.subject}"></a>
						</td>
						<td th:text="${#temporals.format(question.createDate)}" th:href></td>
					</tr>
				</table>
			</div>
		</div>
		<table>
			<!-- 페이징 처리 시작 -->
			<div class="row">
			<div class="col d-flex w-100">
			<nav aria-label="Page navigation example" th:if="${!questionList.isEmpty}" class="w-100" >
			<ul class="pagination justify-content-center">
			  <li class="page-item" th:classappend="${!questionList.hasPrevious} ? 'disabled'"><a class="page-link" th:href="@{|?page=${questionList.number-1}|}" >이전</a></li>
			  <li class="page-item" th:each="page : ${#numbers.sequence(0, questionList.totalPages)}"><a class="page-link" th:href="@{|?page=${page}|}" th:classappend="${questionList.number == page} ? 'active'" th:if="${page >= questionList.number-5 and page <= questionList.number+5}">[[${page}]]</a></li>
			  <li class="page-item" th:classappend="${!questionList.hasNext} ? 'disabled'"><a class="page-link" th:href="@{|?page=${questionList.number+1}|}">다음</a></li>
			</ul>
			</nav>
			</div>
			</div>
		</table>
	</div>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
</html>